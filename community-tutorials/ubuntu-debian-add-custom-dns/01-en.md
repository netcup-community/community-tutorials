---
title: Multiple DNS-Server
description: Add multiple DNS Server.
updated_at: 2021-11-17
slug: ubuntu-debian-add-dns
author_name: Tobias LÃ¤pple
author_url: https://tobi-l.de
author_image: -
author_bio: -
tags: [shell,ubuntu,debian] 
netcup_product_url: https://www.netcup.de/bestellen/produkt.php?produkt=2631
language: en
available_languages: en
---

# Introduction
As some of you probably also have the problem, that the default DNS is slow in resolving domains and ends in timeouts
i show you how you can add additional DNS-Server to speedup domain resolving.


# Requirements
Preferable a fresh install. But it can be als done on a running server.
I personally use a Ubuntu 20.04 LTS version but it should also work on Debian.
This tutorial is made on the RS 8000 G9 but should work on every other RS aswell.

# Step 1
Connect to your server.
````
    ssh user@your-ip-adress
````

# Step 2
Just in case, update the system.
````
    sudo apt update && sudo apt upgrade -y
````

# Step 3
Install resolvconf
````
    sudo apt install resolvconf
````

enable resolvconf as service
````
    systemctl enable resolvconf.service
````

start resolvconf as service
````
    systemctl start resolvconf.service
````

# Step 4
As we are successfully installed resolvconf we can now edit /etc/resolvconf/resolv.conf.d/head
and add multiple dns servers.
The added dns servers will be persisted on reboots etc.

Just add the nameservers you want to this file. In my case i use:
- 8.8.8.8 (Google DNS)
- 8.8.4.4 (Google DNS)
- 1.1.1.1 (Cloudflare DNS)

````
    # Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
    #     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
    # 127.0.0.53 is the systemd-resolved stub resolver.
    # run "systemd-resolve --status" to see details about the actual nameservers.

    nameserver 8.8.8.8
    nameserver 8.8.4.4
    nameserver 1.1.1.1
````

# Step 5
Normally a restart of the resolvconf service should be enough ( systemctl restart resolvconf.service ).
But for some reason i had to do a full reboot on my server.
````
    sudo reboot
````

When you servers comes back, you can login again and check /etc/resolv.conf.
It should look like this now:

````
    # Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
    #     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
    # 127.0.0.53 is the systemd-resolved stub resolver.
    # run "systemd-resolve --status" to see details about the actual nameservers.

    nameserver 8.8.8.8
    nameserver 8.8.4.4
    nameserver 1.1.1.1
    nameserver 127.0.0.53
````

And now your domain resolving should be also way faster.
